webpackJsonp([20],{153:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(10),o=i(a),n=s(423),r=i(n);e.default=function(){new o.default({el:"#app",template:"<App/>",components:{App:r.default}})}},365:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(28),a=function(t){return t&&t.__esModule?t:{default:t}}(i),o=s(27),n=(0,a.default)(location.href);e.default={computed:{debug:function(){return!1}},beforeCreate:function(){this.toast=this.$jfkToast({duration:-1,iconClass:"jfk-loading__snake",isLoading:!0}),this.$pageNamespace(n)},created:function(){var t=parseInt(n.order_type);t&&(this.tabsItems.selected=t)},methods:{changeTab:function(t){this.toast=this.$jfkToast({duration:-1,iconClass:"jfk-loading__snake",isLoading:!0}),this.more=!0,window.document.documentElement.scrollTop=window.document.body.scrollTop=0,this.tabsItems.selected=t,this.orderList=[],this.page=1,this.loading=!1,this.getOrderData()},loadMore:function(){this.more?(this.loading=!0,this.getOrderData()):this.loading=!1},removeLoading:function(){try{this.toast.close()}catch(t){}},getOrderData:function(){var t=this;if(4===this.tabsItems.selected)(0,o.getPresentsMineList)().then(function(e){t.removeLoading(),t.orderList=e.web_data.gift_info,t.more=!1});else{var e={page:this.page,page_size:this.pageSize,type:this.tabsItems.selected};(0,o.getOrderList)(e).then(function(e){t.removeLoading();var s=t.orderList,i=e.web_data.page_resource.link;0===e.web_data.products.length&&(t.more=!1);for(var a=0;a<e.web_data.products.length;a++){var o=e.web_data.products[a];o.order_detail_link=t.debug?"orderDetail?oid="+o.order_id:i.detail+o.order_id,o.order_product_link=t.debug?"detail?pid="+o.package[0].product_id:i.product_link+o.package[0].product_id,o&&o.code&&o.code.use_num&&(o.code.use_num=parseInt(o.code.use_num));for(var n=!1,r=0;r<t.orderList.length;r++)t.orderList[r].order_id===e.web_data.products[a].order_id&&(n=!0);!1===n&&s.push(e.web_data.products[a])}t.loading=!1,t.$nextTick(function(){t.page++})})}},locationHref:function(t){window.location.href=t},orderDelete:function(t,e){var s=this;this.$jfkConfirm("是否确定删除?").then(function(i){"confirm"===i&&(s.toast=s.$jfkToast({duration:-1,iconClass:"jfk-loading__snake",isLoading:!0}),(0,o.deleteOrder)(t).then(function(){s.loading=!1,s.orderList.splice(e,1),s.toast.close(),s.$jfkToast("删除成功"),0===s.cacheData[s.tabsItems.selected].data.length&&s.loadMore()}).catch(function(){s.toast.close()}))}).catch(function(){})},giftDelete:function(t,e){var s=this;this.$jfkConfirm("是否确定删除?").then(function(i){"confirm"===i&&(s.toast=s.$jfkToast({duration:-1,iconClass:"jfk-loading__snake",isLoading:!0}),(0,o.deletePresentsGiftOrder)(t).then(function(t){s.loading=!1,s.orderList.splice(e,1),s.toast.close(),s.$jfkToast("删除成功")}).catch(function(){s.toast.close()}))}).catch(function(){})}},data:function(){return{tabsItems:{selected:1,list:[{text:"全部",menu_type:1},{text:"待使用",menu_type:2},{text:"已完成",menu_type:3},{text:"礼物",menu_type:4,icon:!0}]},orderList:[],loading:!1,page:1,pageSize:20,maxPage:0,more:!0}}}},423:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(365),a=s.n(i),o=s(465),n=s(26),r=n(a.a,o.a,null,null,null);e.default=r.exports},465:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"jfk-pages jfk-pages__order-center"},[s("div",{staticClass:"jfk-pages__theme"}),t._v(" "),s("div",{staticClass:"tabs"},[s("ul",{staticClass:"order-center-tab jfk-flex is-align-middle jfk-pl-30 jfk-pr-30"},t._l(t.tabsItems.list,function(e,i){return s("li",{staticClass:"order-center-tab__item font-size--32 jfk-ta-c",class:{"order-center-tab__active":t.tabsItems.selected===e.menu_type,"color-golden":t.tabsItems.selected===e.menu_type},on:{click:function(s){t.changeTab(e.menu_type)}}},[e.icon?s("i",{staticClass:"jfk-d-ib jfk-font icon-user_icon_Polite_nor"}):t._e(),s("span",{domProps:{innerHTML:t._s(e.text)}})])})),t._v(" "),s("div",{staticClass:"mask"})]),t._v(" "),s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"order-list jfk-pr-30 jfk-pl-30",attrs:{"infinite-scroll-disabled":t.loading,"infinite-scroll-distance":60}},t._l(t.orderList,function(e,i){return s("li",{key:i},[4!==t.tabsItems.selected?["1"===e.package[0].expiration_status?[s("a",{staticClass:"order-list__disabled",attrs:{href:e.order_detail_link||"javascript:void(0)"}},[s("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[s("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("订单号："+e.order_id)}}),t._v(" "),s("div",{staticClass:"font-size--30 jfk-ta-r order-list__status color-golden"},[t._v("已过期")])]),t._v(" "),s("div",{staticClass:"order-list__info jfk-flex"},[e.package[0].face_img?s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.package[0].face_img,expression:"item.package[0].face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):s("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),s("div",{staticClass:"order-list__base-info"},[s("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.item_name)}}),t._v(" "),s("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.row_qty)}})])])]),t._v(" "),s("div",{staticClass:"order-list__button jfk-ta-r"},[s("button",{staticClass:"jfk-button font-size--24 jfk-button--primary order-list__delete",on:{click:function(s){t.orderDelete(e.order_id,i)}}},[s("span",[t._v("\n              删除\n            ")])]),t._v(" "),s("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(s){t.locationHref(e.order_product_link)}}},[s("span",[t._v("\n              再次购买\n            ")])])])]:"33"===e.refund_status?[s("a",{class:{"order-list__disabled":3===e.refund_info_status||"3"===e.refund_info_status},attrs:{href:e.order_detail_link||"javascript:void(0)"}},[s("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[s("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("订单号："+e.order_id)}}),t._v(" "),1===e.refund_info_status||"1"===e.refund_info_status?s("div",{staticClass:"font-size--30 jfk-ta-r order-list__status color-golden"},[s("span",[t._v("退款中")])]):2===e.refund_info_status||"2"===e.refund_info_status?s("div",{staticClass:"font-size--30 jfk-ta-r order-list__status color-golden"},[s("span",[t._v("退款中")])]):3===e.refund_info_status||"3"===e.refund_info_status?s("div",{staticClass:"font-size--30 jfk-ta-r order-list__status color-golden"},[s("span",[t._v("已退款")])]):6===e.refund_info_status||"6"===e.refund_info_status?s("div",{staticClass:"font-size--30 jfk-ta-r order-list__status color-golden"},[s("span",[t._v("退款中")])]):t._e()]),t._v(" "),s("div",{staticClass:"order-list__info jfk-flex"},[e.package[0].face_img?s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.package[0].face_img,expression:"item.package[0].face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):s("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),s("div",{staticClass:"order-list__base-info"},[s("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.item_name)}}),t._v(" "),s("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.row_qty)}})])])]),t._v(" "),s("div",{staticClass:"order-list__button jfk-ta-r"},[s("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(s){t.locationHref(e.order_product_link)}}},[s("span",[t._v("\n              再次购买\n            ")])])])]:"21"===e.consume_status||"22"===e.consume_status?[s("a",{attrs:{href:e.order_detail_link||"javascript:void(0)"}},[s("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[s("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("订单号："+e.order_id)}}),t._v(" "),s("div",{staticClass:"font-size--30 jfk-ta-r order-list__status color-golden"},[t._v("购买成功")])]),t._v(" "),s("div",{staticClass:"order-list__info jfk-flex"},[e.package[0].face_img?s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.package[0].face_img,expression:"item.package[0].face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):s("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),s("div",{staticClass:"order-list__base-info"},[s("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.item_name)}}),t._v(" "),s("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.row_qty)}})])])]),t._v(" "),s("div",{staticClass:"order-list__button jfk-ta-r"},[e.code&&e.code.use_num&&e.code.use_num>0?[s("button",{staticClass:"jfk-button jfk-button--primary  font-size--30",on:{click:function(s){t.locationHref(e.order_detail_link)}}},[s("span",[t._v("\n                    立即使用\n                  ")])])]:[s("button",{staticClass:"jfk-button jfk-button--primary  font-size--30",on:{click:function(s){t.locationHref(e.order_detail_link)}}},[s("span",[t._v("\n                    立即查看\n                  ")])])]],2)]:"23"===e.consume_status?[s("a",{staticClass:"order-list__disabled",attrs:{href:e.order_detail_link||"javascript:void(0)"}},[s("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[s("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("订单号："+e.order_id)}}),t._v(" "),s("div",{staticClass:"font-size--30 jfk-ta-r order-list__status color-golden"},[t._v("已完成")])]),t._v(" "),s("div",{staticClass:"order-list__info jfk-flex"},[e.package[0].face_img?s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.package[0].face_img,expression:"item.package[0].face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):s("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),s("div",{staticClass:"order-list__base-info"},[s("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.item_name)}}),t._v(" "),s("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.row_qty)}})])])]),t._v(" "),s("div",{staticClass:"order-list__button jfk-ta-r"},[s("button",{staticClass:"jfk-button font-size--24 jfk-button--primary order-list__delete",on:{click:function(s){t.orderDelete(e.order_id,i)}}},[s("span",[t._v("\n              删除\n            ")])]),t._v(" "),s("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(s){t.locationHref(e.order_product_link)}}},[s("span",[t._v("\n             再次购买\n            ")])])])]:t._e()]:[s("a",{attrs:{href:e.detail_url||"javascript:void(0)"}},[s("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[s("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("赠送编号："+e.gift_id)}}),t._v(" "),t._m(0,!0)]),t._v(" "),s("div",{staticClass:"order-list__info jfk-flex"},[e.face_img?s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.face_img,expression:"item.face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):s("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),s("div",{staticClass:"order-list__base-info"},[s("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.name)}}),t._v(" "),s("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.per_give)}})])])]),t._v(" "),1===e.consume_status?s("div",{staticClass:"order-list__button jfk-ta-r"},[s("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(s){t.locationHref(e.detail_url)}}},[s("span",[t._v("\n                  立即查看\n                ")])])]):2===e.consume_status?s("div",{staticClass:"order-list__button jfk-ta-r"},[s("button",{staticClass:"jfk-button font-size--24 jfk-button--primary order-list__delete",on:{click:function(s){t.giftDelete(e.gift_id,i)}}},[s("span",[t._v("\n                 删除\n                ")])]),t._v(" "),s("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(s){t.locationHref(e.detail_url)}}},[s("span",[t._v("\n                 立即查看\n                ")])])]):t._e()]],2)})),t._v(" "),t.loading?s("div",{staticClass:"order-list__loading font-size--24 jfk-ta-c"},[t._m(1)]):t._e(),t._v(" "),t.orderList.length>0?s("jfk-support"):t._e(),t._v(" "),!1===t.loading&&0===t.orderList.length?[t._m(2)]:t._e()],2)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"font-size--30 jfk-ta-r order-list__status color-golden"},[s("i",{staticClass:"jfk-font icon-user_icon_Polite_nor"}),s("span",[t._v("收礼成功")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"jfk-loading__triple-bounce color-golden font-size--24"},[s("i",{staticClass:"jfk-loading__triple-bounce-item"}),t._v(" "),s("i",{staticClass:"jfk-loading__triple-bounce-item"}),t._v(" "),s("i",{staticClass:"jfk-loading__triple-bounce-item"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"jfk-ta-c order-center__null"},[s("div",{staticClass:"order-center__null-content"},[s("div",{staticClass:"jfk-font icon-blankpage_icon_noorder_bg"}),t._v(" "),s("p",{staticClass:"jfk-ta-c font-size--28"},[t._v("暂无相关订单~")])])])}],o={render:i,staticRenderFns:a};e.a=o}});