webpackJsonp([20],{155:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(8),o=i(s),r=a(422),n=i(r);e.default=function(){new o.default({el:"#app",template:"<App/>",components:{App:n.default}})}},366:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(27);e.default={computed:{debug:function(){return!1}},methods:{changeTab:function(t){this.tabsItems.selected=t,this.operation="tab",this.orderList=[],this.getOrderData()},loadMore:function(){this.disableLoadList=!0,this.getOrderData()},setData:function(t){var e=this.cacheData[this.tabsItems.selected];if(this.operation="touch",4===e.type)e.more=!1,e.data=t.web_data.gift_info,this.disableLoadList=!1;else if(0===t.web_data.products.length)e.more=!1,this.disableLoadList=!1;else{for(var a=t.web_data.page_resource.link,i=0;i<t.web_data.products.length;i++){var s=t.web_data.products[i];s.order_detail_link=this.debug?"orderDetail?oid="+s.order_id:a.detail+s.order_id,s.order_product_link=this.debug?"detail?pid="+s.package[0].product_id:a.product_link+s.package[0].product_id,e.data.push(t.web_data.products[i]),s&&s.code&&s.code.use_num&&(s.code.use_num=parseInt(s.code.use_num))}this.disableLoadList=!1}this.orderList=e.data,this.$nextTick(function(){e.more&&(e.current+=1)})},getRenderData:function(){var t=this,e=this.cacheData[this.tabsItems.selected];if(this.disableLoadList=e.more,!1===e.more)return!1;if(4===parseInt(e.type))(0,i.getPresentsMineList)().then(function(e){t.setData(e)});else{var a={page:e.current,page_size:e.pageSize,type:e.type};(0,i.getOrderList)(a).then(function(e){t.setData(e)})}},getOrderData:function(){var t=this.cacheData[this.tabsItems.selected];"touch"===this.operation?(this.disableLoadList=!1,this.getRenderData()):"tab"===this.operation&&(this.disableLoadList=!1,this.operation="touch",t.more&&0===t.data.length?this.getRenderData():this.orderList=t.data)},locationHref:function(t){window.location.href=t},orderDelete:function(t,e){var a=this;this.$jfkConfirm("是否确定删除?").then(function(s){"confirm"===s&&(a.toast=a.$jfkToast({duration:-1,iconClass:"jfk-loading__snake",isLoading:!0}),(0,i.deleteOrder)(t).then(function(){a.disableLoadList=!1,a.orderList.splice(e,1),a.cacheData[a.tabsItems.selected].data=a.orderList,a.toast.close(),a.$jfkToast("删除成功"),0===a.cacheData[a.tabsItems.selected].data.length&&a.loadMore()}).catch(function(){a.toast.close()}))}).catch(function(){})},giftDelete:function(t,e){var a=this;this.$jfkConfirm("是否确定删除?").then(function(s){"confirm"===s&&(a.toast=a.$jfkToast({duration:-1,iconClass:"jfk-loading__snake",isLoading:!0}),(0,i.deletePresentsGiftOrder)(t).then(function(t){a.disableLoadList=!1,a.orderList.splice(e,1),a.cacheData[a.tabsItems.selected].data=a.orderList,a.toast.close(),a.$jfkToast("删除成功")}).catch(function(){a.toast.close()}))}).catch(function(){})}},data:function(){return{operation:"touch",tabsItems:{selected:1,list:[{text:"全部",menu_type:1},{text:"待使用",menu_type:2},{text:"已完成",menu_type:3},{text:"礼物",menu_type:4,icon:!0}]},disableLoadList:!1,orderList:[],cacheData:{1:{type:1,data:[],more:!0,pageSize:10,current:1},2:{type:2,data:[],more:!0,pageSize:10,current:1},3:{type:3,data:[],more:!0,pageSize:10,current:1},4:{type:4,data:[],more:!0,pageSize:10,current:1}}}}}},422:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(366),s=a.n(i),o=a(464),r=a(26),n=r(s.a,o.a,null,null,null);e.default=n.exports},464:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jfk-pages jfk-pages__order-center"},[a("div",{staticClass:"jfk-pages__theme"}),t._v(" "),a("div",{staticClass:"tabs"},[a("ul",{staticClass:"order-center-tab jfk-flex is-align-middle jfk-pl-30 jfk-pr-30"},t._l(t.tabsItems.list,function(e,i){return a("li",{staticClass:"order-center-tab__item font-size--32 jfk-ta-c",class:{"order-center-tab__active":t.tabsItems.selected===e.menu_type},on:{click:function(a){t.changeTab(e.menu_type)}}},[e.icon?a("i",{staticClass:"jfk-d-ib jfk-font icon-user_icon_Polite_nor"}):t._e(),a("span",{domProps:{innerHTML:t._s(e.text)}}),t._v(" "),a("div",{staticClass:"mask"})])}))]),t._v(" "),a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"order-list jfk-pr-30 jfk-pl-30",attrs:{"infinite-scroll-disabled":t.disableLoadList,"infinite-scroll-distance":0}},t._l(t.orderList,function(e,i){return a("li",{key:i},[4!==t.tabsItems.selected?["1"===e.package[0].expiration_status?[a("a",{staticClass:"order-list__disabled",attrs:{href:e.order_detail_link||"javascript:void(0)"}},[a("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[a("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("订单号："+e.order_id)}}),t._v(" "),a("div",{staticClass:"font-size--30 jfk-ta-r order-list__status"},[t._v("已过期")])]),t._v(" "),a("div",{staticClass:"order-list__info jfk-flex"},[e.package[0].face_img?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.package[0].face_img,expression:"item.package[0].face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):a("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),a("div",{staticClass:"order-list__base-info"},[a("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.item_name)}}),t._v(" "),a("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.row_qty)}})])])]),t._v(" "),a("div",{staticClass:"order-list__button jfk-ta-r"},[a("button",{staticClass:"jfk-button font-size--24 jfk-button--primary order-list__delete",on:{click:function(a){t.orderDelete(e.order_id,i)}}},[a("span",[t._v("\n              删除\n            ")])]),t._v(" "),a("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(a){t.locationHref(e.order_product_link)}}},[a("span",[t._v("\n              再次购买\n            ")])])])]:"33"===e.refund_status?[a("a",{staticClass:"order-list__disabled",attrs:{href:e.order_detail_link||"javascript:void(0)"}},[a("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[a("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("订单号："+e.order_id)}}),t._v(" "),a("div",{staticClass:"font-size--30 jfk-ta-r order-list__status"},[t._v("已退款")])]),t._v(" "),a("div",{staticClass:"order-list__info jfk-flex"},[e.package[0].face_img?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.package[0].face_img,expression:"item.package[0].face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):a("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),a("div",{staticClass:"order-list__base-info"},[a("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.item_name)}}),t._v(" "),a("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.row_qty)}})])])]),t._v(" "),a("div",{staticClass:"order-list__button jfk-ta-r"},[a("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(a){t.locationHref(e.order_product_link)}}},[a("span",[t._v("\n              再次购买\n            ")])])])]:"21"===e.consume_status||"22"===e.consume_status?[a("a",{attrs:{href:e.order_detail_link||"javascript:void(0)"}},[a("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[a("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("订单号："+e.order_id)}}),t._v(" "),a("div",{staticClass:"font-size--30 jfk-ta-r order-list__status"},[t._v("购买成功")])]),t._v(" "),a("div",{staticClass:"order-list__info jfk-flex"},[e.package[0].face_img?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.package[0].face_img,expression:"item.package[0].face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):a("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),a("div",{staticClass:"order-list__base-info"},[a("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.item_name)}}),t._v(" "),a("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.row_qty)}})])])]),t._v(" "),a("div",{staticClass:"order-list__button jfk-ta-r"},[e.code&&e.code.use_num&&e.code.use_num>0?[a("button",{staticClass:"jfk-button jfk-button--primary  font-size--30",on:{click:function(a){t.locationHref(e.order_detail_link)}}},[a("span",[t._v("\n                    立即使用\n                  ")])])]:[a("button",{staticClass:"jfk-button jfk-button--primary  font-size--30",on:{click:function(a){t.locationHref(e.order_detail_link)}}},[a("span",[t._v("\n                    立即查看\n                  ")])])]],2)]:"23"===e.consume_status?[a("a",{staticClass:"order-list__disabled",attrs:{href:e.order_detail_link||"javascript:void(0)"}},[a("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[a("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("订单号："+e.order_id)}}),t._v(" "),a("div",{staticClass:"font-size--30 jfk-ta-r order-list__status"},[t._v("已完成")])]),t._v(" "),a("div",{staticClass:"order-list__info jfk-flex"},[e.package[0].face_img?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.package[0].face_img,expression:"item.package[0].face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):a("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),a("div",{staticClass:"order-list__base-info"},[a("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.item_name)}}),t._v(" "),a("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.row_qty)}})])])]),t._v(" "),a("div",{staticClass:"order-list__button jfk-ta-r"},[a("button",{staticClass:"jfk-button font-size--24 jfk-button--primary order-list__delete",on:{click:function(a){t.orderDelete(e.order_id,i)}}},[a("span",[t._v("\n              删除\n            ")])]),t._v(" "),a("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(a){t.locationHref(e.order_product_link)}}},[a("span",[t._v("\n             再次购买\n            ")])])])]:t._e()]:[a("a",{attrs:{href:e.detail_url||"javascript:void(0)"}},[a("div",{staticClass:"jfk-flex is-align-middle order-list__order-info"},[a("div",{staticClass:"font-size--28 order-list__order-id",domProps:{innerHTML:t._s("赠送编号："+e.gift_id)}}),t._v(" "),t._m(0,!0)]),t._v(" "),a("div",{staticClass:"order-list__info jfk-flex"},[e.face_img?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.face_img,expression:"item.face_img",arg:"background-image"}],staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}):a("div",{staticClass:"order-list__goods-img jfk-image__lazy--3-3 jfk-image__lazy--background-image"}),t._v(" "),a("div",{staticClass:"order-list__base-info"},[a("p",{staticClass:"order-list__name font-size--38",domProps:{textContent:t._s(e.name)}}),t._v(" "),a("p",{staticClass:"order-list__number font-size--24",domProps:{innerHTML:t._s("<span>数量</span>"+e.per_give)}})])])]),t._v(" "),1===e.consume_status?a("div",{staticClass:"order-list__button jfk-ta-r"},[a("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(a){t.locationHref(e.detail_url)}}},[a("span",[t._v("\n                  点击查看\n                ")])])]):2===e.consume_status?a("div",{staticClass:"order-list__button jfk-ta-r"},[a("button",{staticClass:"jfk-button font-size--24 jfk-button--primary order-list__delete",on:{click:function(a){t.giftDelete(e.gift_id,i)}}},[a("span",[t._v("\n                 删除\n                ")])]),t._v(" "),a("button",{staticClass:"jfk-button jfk-button--primary  font-size--30 is-plain",on:{click:function(a){t.locationHref(e.detail_url)}}},[a("span",[t._v("\n                 立即查看\n                ")])])]):t._e()]],2)})),t._v(" "),t.disableLoadList?a("div",{staticClass:"order-list__loading font-size--24 jfk-ta-c"},[t._m(1)]):t._e(),t._v(" "),t.orderList.length>0?a("jfk-support"):t._e(),t._v(" "),!1===t.disableLoadList&&0===t.orderList.length?[t._m(2)]:t._e()],2)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"font-size--30 jfk-ta-r order-list__status"},[a("i",{staticClass:"jfk-font icon-user_icon_Polite_nor"}),a("span",[t._v("收礼成功")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"jfk-loading__triple-bounce color-golden font-size--24"},[a("i",{staticClass:"jfk-loading__triple-bounce-item"}),t._v(" "),a("i",{staticClass:"jfk-loading__triple-bounce-item"}),t._v(" "),a("i",{staticClass:"jfk-loading__triple-bounce-item"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jfk-ta-c order-center__null"},[a("div",{staticClass:"order-center__null-content"},[a("div",{staticClass:"jfk-font icon-blankpage_icon_noorder_bg"}),t._v(" "),a("p",{staticClass:"jfk-ta-c font-size--28"},[t._v("暂无相关订单~")])])])}],o={render:i,staticRenderFns:s};e.a=o}});