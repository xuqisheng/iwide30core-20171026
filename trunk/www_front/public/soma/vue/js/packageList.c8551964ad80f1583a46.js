webpackJsonp([13],{157:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(8),n=i(a),o=s(424),r=i(o);e.default=function(){new n.default({el:"#app",template:"<App/>",components:{App:r.default}})}},171:function(t,e,s){!function(e,s){t.exports=s()}(0,function(){return function(t){function e(i){if(s[i])return s[i].exports;var a=s[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var s={};return e.m=t,e.c=s,e.i=function(t){return t},e.d=function(t,s,i){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=171)}({171:function(t,e,s){"use strict";function i(t,e){for(var s=0,i=e.length;s<i;){var a=e[s];if(!r(a,t))return{passed:!1,message:a.message,index:s};s++}return{passed:!0}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"pattern"===t},n=function(t,e){return void 0===t||null===t||!("array"!==e||!Array.isArray(t)||t.length)||!(!a(e)||"string"!=typeof t||t)},o={phone:function(t){return/1\d{10}/.test(t)},integer:function(t){return/^[0-9]+$/.test(t)},required:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string";return!n(t,e)},range:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",s=arguments[2],i=arguments[3],a=arguments[4],n=t;return"string"!==e&&"array"!==e||(n=t.length),a?n===a:void 0!==s&&void 0===i?n>=s:void 0===s&&void 0!==i?n<=i:void 0===s||void 0===i||n>=s&&n<=i}},r=function(t,e){return t.required?o.required(e,t.type):t.type&&o[t.type]?o[t.type](e):t.length?o.range(e,t.type,t.min,t.max,t.len):t.validator?t.validator(e,t):void 0}}})})},172:function(t,e,s){"use strict";e.__esModule=!0;var i=s(174),a=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,s){return e in t?(0,a.default)(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},174:function(t,e,s){t.exports={default:s(175),__esModule:!0}},175:function(t,e,s){s(176);var i=s(3).Object;t.exports=function(t,e,s){return i.defineProperty(t,e,s)}},176:function(t,e,s){var i=s(14);i(i.S+i.F*!s(6),"Object",{defineProperty:s(9).f})},368:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(172),n=i(a),o=s(52),r=i(o),l=s(29),f=i(l),c=s(171),u=i(c),_=s(27),d=s(28),m=d.default(location.href);e.default={components:{},computed:{},methods:{getCode:function(){var t=this.rules,e=!0;for(var s in t){var i=(0,u.default)(this.getFormItemVal(s),t[s]);this.validResult=(0,f.default)({},this.validResult,(0,n.default)({},s,(0,r.default)({},i,{show:!i.passed}))),i.passed||(e=!1)}if(e){var a={gift_id:this.giftId||"",inter_id:m.inter_id||"",saler_id:m.saler_id||"",saler_name:m.saler_name||"",gift_num:this.form.number||"",record_info:this.form.reservationInfo||"",orther_remark:this.form.other||""};(0,_.postGenerateGift)(a).then(function(t){}).then(function(){})}},getFormItemVal:function(t){switch(t){case"reservationInfo":return this.form.reservationInfo;case"number":return this.form.number;case"other":return this.form.other;default:return""}},handleHiddenError:function(t){this.validResult=(0,f.default)({},this.validResult,(0,n.default)({},t,{show:!1}))},generateGiftPackage:function(t){this.form.reservationInfo="",this.form.number="1",this.form.other="",this.giftId=t,this.salerName=m.saler_name||"",this.validResult.reservationInfo.show=!1,this.validResult.number.show=!1,this.validResult.other.show=!1,this.verificationVisible=!0},getData:function(){var t=this,e=function(){try{t.toast.close(),t.disableLoadPackage=!1,t.page+=1}catch(t){}};(0,_.getGiftPackageList)({saler_id:m.saler_id||"",inter_id:m.inter_id||"",page:this.page}).then(function(s){0===s.web_data.length&&(t.more=!1);for(var i=0;i<s.web_data.length;i++)t.packageList.push(s.web_data[i]);t.$nextTick(function(){e()})}).catch(function(){e()})},loadMore:function(){this.more&&(this.disableLoadPackage=!0,this.getData())}},created:function(){this.toast=this.$jfkToast({duration:-1,iconClass:"jfk-loading__snake",isLoading:!0}),this.getData()},data:function(){return{verificationVisible:!1,packageList:[],giftId:"",disableLoadPackage:!1,salerName:"",more:!0,page:1,form:{reservationInfo:"",number:"1",other:""},rules:{reservationInfo:[{required:!0,message:"请输入登记信息"}],number:[{required:!0,message:"请输入数量"},{type:"integer",message:"请输入正确的数量"}]},validResult:{reservationInfo:{passed:!1,message:""},number:{passed:!1,message:""},other:{passed:!0,message:""}}}}}},424:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(368),a=s.n(i),n=s(477),o=s(26),r=o(a.a,n.a,null,null,null);e.default=r.exports},477:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"jfk-pages jfk-pages__package-list"},[s("div",{staticClass:"jfk-pages__theme"}),t._v(" "),t.packageList.length>0?s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"package-list",attrs:{"infinite-scroll-disabled":"disableLoadPackage","infinite-scroll-distance":"0"}},t._l(t.packageList,function(e,i){return s("li",{key:i,staticClass:"package-list__item"},[s("div",{staticClass:"jfk-package-info jfk-pl-30 jfk-pr-30"},[s("div",{staticClass:"jfk-package-info__content"},[s("div",{staticClass:"jfk-package-info__base-info"},[t._m(0,!0),t._v(" "),s("div",{staticClass:"jfk-package-info__base-info--right"},[s("div",{staticClass:"jfk-package-info__base-info--content"},[s("p",{staticClass:"name font-size--32",domProps:{textContent:t._s(e.name)}}),t._v(" "),s("p",{staticClass:"validity font-size--24",domProps:{textContent:t._s("有效期至"+e.end_time)}}),t._v(" "),s("p",{staticClass:"number font-size--24"},[t._v("剩余"),s("span",{domProps:{textContent:t._s(e.stock)}}),t._v("份")]),t._v(" "),s("button",{staticClass:"jfk-button jfk-button--primary is-plain font-size--30",on:{click:function(s){t.generateGiftPackage(e.gift_id)}}},[s("span",[t._v("生成礼包")])])])])]),t._v(" "),t._l(e.child_product_info,function(i,a){return e&&e.child_product_info?s("ul",{key:a,staticClass:"jfk-package-info__more-info"},[a<=10?s("li",{staticClass:"jfk-flex"},[s("span",{staticClass:"jfk-ta-l font-size--28",domProps:{textContent:t._s(i.name)}}),t._v(" "),s("span",{staticClass:"jfk-ta-r font-size--28",domProps:{textContent:t._s(i.num)}})]):t._e()]):t._e()})],2)])])})):t._e(),t._v(" "),s("div",{staticClass:"package-list__loading font-size--24 jfk-ta-c",class:{"package-list__show":t.disableLoadPackage}},[t._m(1)]),t._v(" "),s("jfk-popup",{ref:"popupService",staticClass:"jfk-popup__service",attrs:{showCloseButton:!0},model:{value:t.verificationVisible,callback:function(e){t.verificationVisible=e},expression:"verificationVisible"}},[s("div",{staticClass:"popup-box"},[s("div",{staticClass:"title font-size--30 font-color-white jfk-ta-c"},[t._v("服务说明")]),t._v(" "),s("div",{staticClass:"package-form"},[s("form",{staticClass:"jfk-form font-size--28"},[s("div",{staticClass:"form-item"},[s("label",[s("span",{staticClass:"form-item__label  font-color-extra-light-gray"},[t._v("登记信息")]),t._v(" "),s("div",{staticClass:"form-item__body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.reservationInfo,expression:"form.reservationInfo"}],staticClass:"font-color-white",attrs:{type:"text",placeholder:"房间号/预订号"},domProps:{value:t.form.reservationInfo},on:{input:function(e){e.target.composing||(t.form.reservationInfo=e.target.value)}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.validResult.reservationInfo.show,expression:"validResult.reservationInfo.show"}],staticClass:"form-item__status is-error",on:{click:function(e){t.handleHiddenError("reservationInfo")}}},[s("i",{staticClass:"form-item__status-icon jfk-font icon-msg_icon_error_norma"}),t._v(" "),s("span",{staticClass:"form-item__status-tip"},[s("i",{staticClass:"form-item__status-cont",domProps:{textContent:t._s(t.validResult.reservationInfo.message)}})])])])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("label",[s("span",{staticClass:"form-item__label  font-color-extra-light-gray"},[s("i",[t._v("数")]),s("span",{staticClass:"form-item__label--word-4"}),s("i",[t._v("量")])]),t._v(" "),s("div",{staticClass:"form-item__body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.number,expression:"form.number"}],staticClass:"font-color-white",attrs:{type:"text",placeholder:"购买数量"},domProps:{value:t.form.number},on:{input:function(e){e.target.composing||(t.form.number=e.target.value)}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.validResult.number.show,expression:"validResult.number.show"}],staticClass:"form-item__status is-error",on:{click:function(e){t.handleHiddenError("number")}}},[s("i",{staticClass:"form-item__status-icon jfk-font icon-msg_icon_error_norma"}),t._v(" "),s("span",{staticClass:"form-item__status-tip"},[s("i",{staticClass:"form-item__status-cont",domProps:{textContent:t._s(t.validResult.number.message)}})])])])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("label",[s("span",{staticClass:"form-item__label  font-color-extra-light-gray"},[s("i",[t._v("其")]),s("span",{staticClass:"form-item__label--word-4"}),s("i",[t._v("他")])]),t._v(" "),s("div",{staticClass:"form-item__body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.other,expression:"form.other"}],staticClass:"font-color-white",attrs:{type:"text",placeholder:""},domProps:{value:t.form.other},on:{input:function(e){e.target.composing||(t.form.other=e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("label",[s("span",{staticClass:"form-item__label  font-color-extra-light-gray form-item__label--word-3"},[t._v("创建人")]),t._v(" "),s("div",{staticClass:"form-item__body"},[s("p",{staticClass:"font-color-white",domProps:{textContent:t._s(t.salerName)}})])])])])]),t._v(" "),s("div",{staticClass:"btn"},[s("button",{staticClass:"jfk-button jfk-button--primary is-plain jfk-button--free font-size--32",on:{click:t.getCode}},[s("span",{staticClass:"jfk-button__text"},[s("i",{staticClass:"jfk-font jfk-button__text-item icon-font_zh_sheng_qkbys"}),t._v(" "),s("i",{staticClass:"jfk-font jfk-button__text-item icon-font_zh_cheng_qkbys"}),t._v(" "),s("i",{staticClass:"jfk-font jfk-button__text-item icon-font_zh_ling_qkbys"}),t._v(" "),s("i",{staticClass:"jfk-font jfk-button__text-item icon-font_zh_qu_qkbys1"}),t._v(" "),s("i",{staticClass:"jfk-font jfk-button__text-item icon-font_zh_er_qkbys"}),t._v(" "),s("i",{staticClass:"jfk-font jfk-button__text-item icon-font_zh_wei_qkbys1"}),t._v(" "),s("i",{staticClass:"jfk-font jfk-button__text-item icon-font_zh_ma_qkbys"})])])])])]),t._v(" "),t._m(2)],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"jfk-package-info__base-info--left"},[s("div",{staticClass:"jfk-package-info__base-info--title jfk-flex is-align-middle is-justify-center"},[s("i",{staticClass:"jfk-font  icon-font_zh_li_1_qkbys"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"jfk-loading__triple-bounce color-golden font-size--24"},[s("i",{staticClass:"jfk-loading__triple-bounce-item"}),t._v(" "),s("i",{staticClass:"jfk-loading__triple-bounce-item"}),t._v(" "),s("i",{staticClass:"jfk-loading__triple-bounce-item"})])},function(){var t=this,e=t.$createElement;return(t._self._c||e)("jfk-support")}],n={render:i,staticRenderFns:a};e.a=n}});