webpackJsonp([25],{156:function(e,a,n){"use strict";function t(e,a,n){for(var t=e.length,s=Math.min(n||0,t);s<t;){if(a(e[s]))return s;s++}return-1}Object.defineProperty(a,"__esModule",{value:!0}),a.findIndex=t},192:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(156),s=n(92),r=function(e,a){var n=[];if(e.length){var s=0,r=0,i=0;a[0]&&(s=(0,t.findIndex)(e,function(e){return e.region_id===a[0]}),s=-1===s?0:s);var l=e[s].children;a[1]&&(r=(0,t.findIndex)(l,function(e){return e.region_id===a[1]}),r=-1===r?0:r);var d=l[r].children;d&&a[2]&&(i=(0,t.findIndex)(d,function(e){return e.region_id===a[2]}),i=-1===i?0:i),n=[{flex:1,values:e,defaultIndex:s},{flex:1,values:l,defaultIndex:r}],d?n.push({flex:1,values:d,defaultIndex:i}):n.push({flex:0,values:[],defaultIndex:i})}return n};a.default={name:"address-select",data:function(){return{pickValueKey:"region_name",addressData:[],slots:[]}},created:function(){var e=this;(0,s.getExpressTree)().then(function(a){e.$emit("address-data-loaded",!0),e.addressData=a.web_data[0].children,e.slots=r(e.addressData,e.ids)}).catch(function(){e.$emit("address-data-loaded",!1)})},methods:{onValuesChange:function(e,a){if(a){var n=a[0].region_id,t=a[1]&&a[1].region_id,s=r(this.addressData,[n,t]);e.setSlotValues(1,s[1].values),e.setSlotValues(2,s[2].values)}},handleSaveArea:function(){var e=this.$children[0].getValues(),a=e.map(function(e){return{region_id:e.region_id,region_name:e.region_name}});this.$emit("address-picked","ok",a)},handleCancelArea:function(){this.$emit("address-picked","cancel")}},watch:{ids:function(e){var a=r(this.addressData,e),n=this.$children[0];n&&(n.setSlotValues(1,a[1].values),n.setSlotValues(2,a[2].values),n.setValues([a[0].values[a[0].defaultIndex],a[1].values[a[1].defaultIndex],a[2].values?a[2].values[a[2].defaultIndex]:null]))}},props:{ids:{type:Array,required:!0,default:function(){return[]}}}}},236:function(e,a,n){var t=n(2)(n(192),n(278),null,null);e.exports=t.exports},278:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,n=e._self._c||a;return e.slots.length?n("jfk-picker",{staticClass:"font-size--28 jfk-picker__address",attrs:{"rotate-effect":!0,showToolbar:!0,valueKey:e.pickValueKey,slots:e.slots},on:{change:e.onValuesChange}},[n("div",{staticClass:"jfk-flex is-justify-space-between font-size--32"},[n("span",{staticClass:"font-color-light-gray",on:{click:e.handleCancelArea}},[e._v("取消")]),e._v(" "),n("span",{staticClass:"color-golden",on:{click:e.handleSaveArea}},[e._v("完成")])])]):e._e()},staticRenderFns:[]}}});